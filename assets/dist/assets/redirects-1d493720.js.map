{"version":3,"file":"redirects-1d493720.js","sources":["../../src/redirects/RedirectIndex.js"],"sourcesContent":["/** global: Craft */\n/** global: Garnish */\n/**\n * Redirect index class\n */\nCraft.SproutRedirectElementIndex = Craft.BaseElementIndex.extend({\n\n    init: function(elementType, $container, settings) {\n        this.on('selectSite', this.onChangeSite.bind(this));\n        this.base(elementType, $container, settings);\n    },\n\n    onChangeSite: function() {\n        if (this.settings.context === 'index') {\n            let newRedirectBtn = document.getElementById('sprout-redirects-new-button');\n            newRedirectBtn.setAttribute('href', this.getNewRedirectUrl());\n        }\n    },\n\n    getNewRedirectUrl: function() {\n        const uri = `sprout/redirects/new`;\n        const site = this.getSite();\n        const params = site ? {site: site.handle} : undefined;\n\n        return Craft.getUrl(uri, params);\n    },\n});\n\n// Register it!\nCraft.registerElementIndexClass('BarrelStrength\\\\Sprout\\\\redirects\\\\components\\\\elements\\\\RedirectElement', Craft.SproutRedirectElementIndex);\n\n// ES Modules get deferred in Vite Dev so this\n// makes sure things are loaded before running\nwindow.SproutRedirectElementIndexInit();\n"],"names":["elementType","$container","settings","uri","site","params"],"mappings":"AAKA,MAAM,2BAA6B,MAAM,iBAAiB,OAAO,CAE7D,KAAM,SAASA,EAAaC,EAAYC,EAAU,CAC9C,KAAK,GAAG,aAAc,KAAK,aAAa,KAAK,IAAI,CAAC,EAClD,KAAK,KAAKF,EAAaC,EAAYC,CAAQ,CAC9C,EAED,aAAc,UAAW,CACjB,KAAK,SAAS,UAAY,SACL,SAAS,eAAe,6BAA6B,EAC3D,aAAa,OAAQ,KAAK,kBAAmB,CAAA,CAEnE,EAED,kBAAmB,UAAW,CAC1B,MAAMC,EAAM,uBACNC,EAAO,KAAK,UACZC,EAASD,EAAO,CAAC,KAAMA,EAAK,MAAM,EAAI,OAE5C,OAAO,MAAM,OAAOD,EAAKE,CAAM,CAClC,CACL,CAAC,EAGD,MAAM,0BAA0B,2EAA4E,MAAM,0BAA0B,EAI5I,OAAO,+BAAgC"}