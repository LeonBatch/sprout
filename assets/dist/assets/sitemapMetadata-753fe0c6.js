import{m as e}from"./module.esm-86abea30.js";const s=()=>({row:null,sitemapMetadataId:null,siteId:null,sourceKey:null,type:null,uri:null,priority:null,changeFrequency:null,enabled:"0",status:null,init(){this.row=this.$refs.sitemapMetadataRow,this.status=this.row.querySelector("span.status"),this.sitemapMetadataId=this.row.dataset.sitemapMetadataId??null,this.siteId=this.row.dataset.siteId,this.sourceKey=this.row.dataset.sourceKey,this.type=this.row.dataset.type,this.uri=this.row.dataset.uri,this.priority=this.row.dataset.priority,this.changeFrequency=this.row.dataset.changeFrequency,this.enabled=this.row.dataset.enabled},saveSitemapMetadata(){let t=this;Craft.sendActionRequest("POST","sprout-module-sitemaps/sitemap-metadata/save-sitemap-metadata",{data:{sitemapMetadataId:this.sitemapMetadataId,siteId:this.siteId,sourceKey:this.sourceKey,type:this.type,priority:this.priority,changeFrequency:this.changeFrequency,enabled:this.enabled}}).then(a=>{a.data.success===!0?(Craft.cp.displayNotice(Craft.t("sprout-module-sitemaps","Sitemap metadata saved.")),this.sitemapMetadataId=a.data.sitemapMetadata.id):Craft.cp.displayError(Craft.t("sprout-module-sitemaps","Unable to save Sitemap metadata.")),t.enabled==="1"?(t.status.classList.remove("disabled"),t.status.classList.add("live")):(t.status.classList.remove("live"),t.status.classList.add("disabled"))}).catch(()=>{Craft.cp.displayError(Craft.t("sprout-module-sitemaps","Unable to save Sitemap metadata."))})},toggleEnabledAndSaveSitemapMetadata(){this.enabled=this.enabled==="1"?"0":"1",this.saveSitemapMetadata()},deleteSitemapMetadata(){let t=this;Craft.sendActionRequest("POST","sprout-module-sitemaps/sitemap-metadata/delete-sitemap-metadata-by-id",{data:{sitemapMetadataId:this.sitemapMetadataId}}).then(a=>{a.data.success===!0?(t.row.remove(),Craft.cp.displayNotice(Craft.t("sprout-module-sitemaps","Sitemap metadata deleted."))):Craft.cp.displayError(Craft.t("sprout-module-sitemaps","Unable to delete Sitemap metadata.")),document.querySelectorAll("#custom-pages tbody tr").length<=0&&document.getElementById("custom-pages").remove()}).catch(()=>{Craft.cp.displayError(Craft.t("sprout-module-sitemaps","Unable to delete Sitemap metadata."))})}});window.Alpine=e;e.data("SitemapMetadataRow",s);e.start();
//# sourceMappingURL=sitemapMetadata-753fe0c6.js.map
