{"version":3,"file":"disableSubmitButton-3d41d585.js","sources":["../../src/forms-frontend/DisableSubmitButton.js"],"sourcesContent":["/*\n * @link https://sprout.barrelstrengthdesign.com\n * @copyright Copyright (c) Barrel Strength Design LLC\n * @license https://craftcms.github.io/license\n */\n\n// Prevent duplicate submissions on front-end form\nclass SproutFormsDisableSubmitButton {\n\n    constructor(formId) {\n        this.formId = formId;\n        this.form = document.getElementById(this.formId);\n        this.submitButtons = this.form.querySelectorAll('[type=\"submit\"]');\n\n        this.setDuplicateSubmissionEventListeners();\n    }\n\n    setDuplicateSubmissionEventListeners() {\n        let self = this;\n\n        // Mark all submit buttons as disabled once a user submits the form\n        this.form.addEventListener('beforeSproutFormsSubmit', function(event) {\n            self.submitButtons.forEach(function(button) {\n                button.setAttribute('disabled', 'disabled');\n            });\n        }, false);\n\n        // Mark all submit buttons as enabled after the form submission is complete\n        this.form.addEventListener('afterSproutFormsSubmit', function(event) {\n            self.submitButtons.forEach(function(button) {\n                // Add slight delay, for kicks\n                setTimeout(() => {\n                    button.removeAttribute('disabled');\n                }, 500)\n\n            });\n        }, false);\n\n        // Mark all submit buttons as enabled if the form submission is cancelled\n        this.form.addEventListener('onSproutFormsSubmitCancelled', function(event) {\n            self.submitButtons.forEach(function(button) {\n                // Add slight delay, for kicks\n                setTimeout(() => {\n                    button.removeAttribute('disabled');\n                }, 500)\n\n            });\n        }, false);\n    }\n}\n\nwindow.SproutFormsDisableSubmitButton = SproutFormsDisableSubmitButton;\n"],"names":["SproutFormsDisableSubmitButton","formId","self","event","button"],"mappings":"AAAA;AAAA;AAAA;AAAA;AAAA,GAOA,MAAMA,CAA+B,CAEjC,YAAYC,EAAQ,CAChB,KAAK,OAASA,EACd,KAAK,KAAO,SAAS,eAAe,KAAK,MAAM,EAC/C,KAAK,cAAgB,KAAK,KAAK,iBAAiB,iBAAiB,EAEjE,KAAK,qCAAoC,CAC5C,CAED,sCAAuC,CACnC,IAAIC,EAAO,KAGX,KAAK,KAAK,iBAAiB,0BAA2B,SAASC,EAAO,CAClED,EAAK,cAAc,QAAQ,SAASE,EAAQ,CACxCA,EAAO,aAAa,WAAY,UAAU,CAC1D,CAAa,CACJ,EAAE,EAAK,EAGR,KAAK,KAAK,iBAAiB,yBAA0B,SAASD,EAAO,CACjED,EAAK,cAAc,QAAQ,SAASE,EAAQ,CAExC,WAAW,IAAM,CACbA,EAAO,gBAAgB,UAAU,CACpC,EAAE,GAAG,CAEtB,CAAa,CACJ,EAAE,EAAK,EAGR,KAAK,KAAK,iBAAiB,+BAAgC,SAASD,EAAO,CACvED,EAAK,cAAc,QAAQ,SAASE,EAAQ,CAExC,WAAW,IAAM,CACbA,EAAO,gBAAgB,UAAU,CACpC,EAAE,GAAG,CAEtB,CAAa,CACJ,EAAE,EAAK,CACX,CACL,CAEA,OAAO,+BAAiCJ"}