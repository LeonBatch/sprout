{"version":3,"file":"DynamicCsrfInput-097d6ec0.js","sources":["../../src/core/DynamicCsrfInput.js"],"sourcesContent":["/*\n * @link https://sprout.barrelstrengthdesign.com\n * @copyright Copyright (c) Barrel Strength Design LLC\n * @license https://craftcms.github.io/license\n */\n\nlet Sprout = window.Sprout || {};\n\nSprout.renderDynamicCsrfInputs = function() {\n\n    let csrfInputs = document.querySelectorAll('input[name=\"SPROUT_CSRF_TOKEN\"]');\n\n    let params = {\n        headers: {\n            'Accept': 'application/json',\n        }\n    };\n\n    fetch(Sprout.sessionInfoActionUrl, params)\n        .then(response => response.json())\n        .then(data => {\n            csrfInputs.forEach(function(csrfInput) {\n                csrfInput.name = data.csrfTokenName;\n                csrfInput.value = data.csrfTokenValue;\n            });\n        });\n};\n\nif (document.readyState !== 'loading') {\n    Sprout.renderDynamicCsrfInputs();\n} else {\n    document.addEventListener('DOMContentLoaded', Sprout.renderDynamicCsrfInputs);\n}\n\n\n\n\n\n\n\n\n"],"names":["Sprout","csrfInputs","params","response","data","csrfInput"],"mappings":"AAAA;AAAA;AAAA;AAAA;AAAA,GAMA,IAAIA,EAAS,OAAO,QAAU,GAE9BA,EAAO,wBAA0B,UAAW,CAExC,IAAIC,EAAa,SAAS,iBAAiB,iCAAiC,EAExEC,EAAS,CACT,QAAS,CACL,OAAU,kBACb,CACT,EAEI,MAAMF,EAAO,qBAAsBE,CAAM,EACpC,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACVH,EAAW,QAAQ,SAASI,EAAW,CACnCA,EAAU,KAAOD,EAAK,cACtBC,EAAU,MAAQD,EAAK,cACvC,CAAa,CACb,CAAS,CACT,EAEI,SAAS,aAAe,UACxBJ,EAAO,wBAAuB,EAE9B,SAAS,iBAAiB,mBAAoBA,EAAO,uBAAuB"}