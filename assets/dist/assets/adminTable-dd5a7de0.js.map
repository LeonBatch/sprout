{"version":3,"file":"adminTable-dd5a7de0.js","sources":["../../src/core/SproutAdminTable.js"],"sourcesContent":["import Alpine from 'alpinejs';\n\nwindow.Alpine = Alpine;\n\nexport const SproutAdminTable = (settings) => ({\n\n    tableRowsAction: settings.tableRowsAction,\n    slideoutNewAction: settings.slideoutNewAction,\n    slideoutEditAction: settings.slideoutEditAction,\n    deleteAction: settings.deleteAction,\n\n    rows: [],\n\n    init() {\n        this.refreshTable();\n    },\n\n    refreshTable() {\n\n        Craft.sendActionRequest('POST', this.tableRowsAction,\n        ).then((response) => {\n            this.rows = response.data;\n        });\n\n    },\n\n    getSlideoutEditor(action) {\n        const slideout = new Craft.CpScreenSlideout(action);\n\n        slideout.on('submit', ev => {\n            this.refreshTable();\n        });\n\n        slideout.on('close', () => {\n            this.refreshTable();\n        });\n    },\n\n    copyButton(text) {\n        let thing = $('<div>').append(\n            Craft.ui.createCopyTextBtn({\n                value: text,\n                class: 'code small light',\n            }),\n        ).html();\n\n        return thing;\n    },\n\n    newItem() {\n        this.getSlideoutEditor(this.slideoutNewAction);\n    },\n\n    editItem(id) {\n        this.getSlideoutEditor(this.slideoutEditAction + '?id=' + id);\n    },\n\n    deleteItem(id) {\n\n        Craft.sendActionRequest('POST', this.deleteAction, {\n            data: {\n                id: id,\n            },\n        }).then((response) => {\n            this.refreshTable();\n        }).catch(() => {\n            console.log('Nope.');\n        });\n\n    },\n});\n\nAlpine.data('SproutAdminTable', SproutAdminTable);\n\nAlpine.start();\n"],"names":["Alpine","SproutAdminTable","settings","response","action","slideout","ev","text","id"],"mappings":"6CAEA,OAAO,OAASA,EAET,MAAMC,EAAoBC,IAAc,CAE3C,gBAAiBA,EAAS,gBAC1B,kBAAmBA,EAAS,kBAC5B,mBAAoBA,EAAS,mBAC7B,aAAcA,EAAS,aAEvB,KAAM,CAAE,EAER,MAAO,CACH,KAAK,aAAY,CACpB,EAED,cAAe,CAEX,MAAM,kBAAkB,OAAQ,KAAK,eAC7C,EAAU,KAAMC,GAAa,CACjB,KAAK,KAAOA,EAAS,IACjC,CAAS,CAEJ,EAED,kBAAkBC,EAAQ,CACtB,MAAMC,EAAW,IAAI,MAAM,iBAAiBD,CAAM,EAElDC,EAAS,GAAG,SAAUC,GAAM,CACxB,KAAK,aAAY,CAC7B,CAAS,EAEDD,EAAS,GAAG,QAAS,IAAM,CACvB,KAAK,aAAY,CAC7B,CAAS,CACJ,EAED,WAAWE,EAAM,CAQb,OAPY,EAAE,OAAO,EAAE,OACnB,MAAM,GAAG,kBAAkB,CACvB,MAAOA,EACP,MAAO,kBACvB,CAAa,CACJ,EAAC,KAAI,CAGT,EAED,SAAU,CACN,KAAK,kBAAkB,KAAK,iBAAiB,CAChD,EAED,SAASC,EAAI,CACT,KAAK,kBAAkB,KAAK,mBAAqB,OAASA,CAAE,CAC/D,EAED,WAAWA,EAAI,CAEX,MAAM,kBAAkB,OAAQ,KAAK,aAAc,CAC/C,KAAM,CACF,GAAIA,CACP,CACb,CAAS,EAAE,KAAML,GAAa,CAClB,KAAK,aAAY,CAC7B,CAAS,EAAE,MAAM,IAAM,CACX,QAAQ,IAAI,OAAO,CAC/B,CAAS,CAEJ,CACL,GAEAH,EAAO,KAAK,mBAAoBC,CAAgB,EAEhDD,EAAO,MAAO"}