{"version":3,"file":"urlField-1427c196.js","sources":["../../src/fields/UrlField.js"],"sourcesContent":["import './url-field.scss';\n\n/* global Craft */\n\nif (typeof Craft.SproutUrlField === typeof undefined) {\n    Craft.SproutUrlField = {};\n}\n\nCraft.SproutUrlField = Garnish.Base.extend({\n\n    init: function(namespaceInputId, id, elementId, fieldHandle, fieldContext) {\n        this.checkSproutUrlField(namespaceInputId, id, elementId, fieldHandle, fieldContext);\n    },\n\n    checkSproutUrlField: function(namespaceInputId, id, elementId, fieldHandle, fieldContext) {\n\n        let sproutUrlFieldId = '#' + namespaceInputId;\n        let sproutUrlButtonClass = '.' + id;\n\n        // We use setTimeout to make sure our function works every time\n        setTimeout(function() {\n            // Set up data for the controller.\n            let data = {\n                'elementId': elementId,\n                'fieldHandle': fieldHandle,\n                'fieldContext': fieldContext,\n                'value': $(sproutUrlFieldId).val(),\n            };\n\n            // Query the controller so the regex validation is all done through PHP.\n            Craft.postActionRequest('sprout-module-fields/fields/validate-url', data, function(response) {\n                if (response.success) {\n                    $(sproutUrlButtonClass).addClass('fade');\n                    $(sproutUrlButtonClass + ' a').attr('href', data.value);\n                } else {\n                    $(sproutUrlButtonClass).removeClass('fade');\n                }\n            }, []);\n\n        }, 500);\n    },\n});\n"],"names":["namespaceInputId","id","elementId","fieldHandle","fieldContext","sproutUrlFieldId","sproutUrlButtonClass","data","response"],"mappings":"AAII,OAAO,MAAM,eAAmB,MAChC,MAAM,eAAiB,IAG3B,MAAM,eAAiB,QAAQ,KAAK,OAAO,CAEvC,KAAM,SAASA,EAAkBC,EAAIC,EAAWC,EAAaC,EAAc,CACvE,KAAK,oBAAoBJ,EAAkBC,EAAIC,EAAWC,EAAaC,CAAY,CACtF,EAED,oBAAqB,SAASJ,EAAkBC,EAAIC,EAAWC,EAAaC,EAAc,CAEtF,IAAIC,EAAmB,IAAML,EACzBM,EAAuB,IAAML,EAGjC,WAAW,UAAW,CAElB,IAAIM,EAAO,CACP,UAAaL,EACb,YAAeC,EACf,aAAgBC,EAChB,MAAS,EAAEC,CAAgB,EAAE,IAAK,CAClD,EAGY,MAAM,kBAAkB,2CAA4CE,EAAM,SAASC,EAAU,CACrFA,EAAS,SACT,EAAEF,CAAoB,EAAE,SAAS,MAAM,EACvC,EAAEA,EAAuB,IAAI,EAAE,KAAK,OAAQC,EAAK,KAAK,GAEtD,EAAED,CAAoB,EAAE,YAAY,MAAM,CAEjD,EAAE,CAAE,CAAA,CAER,EAAE,GAAG,CACT,CACL,CAAC"}