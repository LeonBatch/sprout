class u{constructor(e,t){this.sproutPhoneFieldId=e,this.sproutPhoneCountryId=t,this.sproutPhoneFieldButtonClass="#"+this.sproutPhoneFieldId+"-field .compoundSelectText-text .sprout-phone-button",this.checkValidation(),this.addListeners()}checkValidation(){let e=this;setTimeout(function(){let t=document.getElementById(e.sproutPhoneFieldId).value,n={value:{country:document.getElementById(e.sproutPhoneCountryId).value,phone:t}};e.validatePhoneNumber(document.getElementById(e.sproutPhoneFieldId),n)},500)}addListeners(){let e=this;document.getElementById(this.sproutPhoneFieldId).addEventListener("input",function(){let t=this,o=this.value,s={value:{country:document.getElementById(e.sproutPhoneCountryId).value,phone:o}};e.validatePhoneNumber(t,s)})}validatePhoneNumber(e,t){let o=this;Craft.sendActionRequest("POST","sprout-module-fields/fields/validate-phone",{data:t}).then(n=>{n.data.success?(document.querySelector(o.sproutPhoneFieldButtonClass).classList.add("fade"),document.querySelector(o.sproutPhoneFieldButtonClass+" a").setAttribute("href","tel:"+t.phone)):document.querySelector(o.sproutPhoneFieldButtonClass).classList.remove("fade")})}}window.SproutPhoneField=u;
//# sourceMappingURL=phoneField-3f5ae47e.js.map
