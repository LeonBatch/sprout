class o{constructor(e){this.siteKey=e.siteKey,this.theme=e.theme??null,this.size=e.size??null,this.customValidityText=e.customValidityText,this.grecaptcha=e.grecaptcha,this.initRecaptchas();let t=this;window.onload=function(){t.makeRecaptchasRequired()}}initRecaptchas(){let e=this,t=document.querySelectorAll(".google-recaptcha-container");for(let a of t){let c=a.closest("form");this.addFormEventListener(c);let r=this.grecaptcha.render(a,{sitekey:e.siteKey,theme:e.theme,size:e.size,callback:function(){e.onSproutFormsRecaptchaSuccess(c)},"expired-callback":function(){e.onSproutFormsRecaptchaExpired(c),e.grecaptcha.reset()}});c.setAttribute("data-google-recaptcha-widget-id",r)}}onSproutFormsRecaptchaSuccess(e){let t=e.querySelector(".g-recaptcha-response");t.required=!1,t.setCustomValidity("")}onSproutFormsRecaptchaExpired(e){let t=this;setTimeout(function(){let a=e.querySelector(".g-recaptcha-response");t.makeRecaptchaRequired(a)},500)}makeRecaptchasRequired(){let e=this,t=document.querySelectorAll(".g-recaptcha-response");for(const a of t)e.makeRecaptchaRequired(a)}makeRecaptchaRequired(e){e&&(e.required=!0,e.setCustomValidity(this.customValidityText))}addFormEventListener(e){let t=this;e.addEventListener("afterSproutFormsSubmit",function(a){let r=a.target.getAttribute("data-google-recaptcha-widget-id");t.grecaptcha.reset(r),t.makeRecaptchasRequired()},!1)}}window.SproutFormsGoogleRecaptchaCheckbox=o;
//# sourceMappingURL=reCaptchaCheckbox-3abc96a4.js.map
