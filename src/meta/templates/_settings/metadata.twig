{% extends "sprout-module-core/_layouts/settings" %}

{% import "_includes/forms" as forms %}
{% import "sprout-module-core/_macros/sproutcp" as sproutCp %}

{% set currentSubNavKey = 'meta' %}
{% set module = sprout.modules.meta %}
{% set settings = module.getSettings() %}

{% set isPro = module.isPro() %}
{% set isProBadge = not isPro ? ' <span class="sprout-pro">PRO</span>' : '' %}

{% block settings %}

    {{ forms.textField({
        label: "Meta Description Length"|t('sprout-module-meta'),
        instructions: "The maximum number of characters to allow for Meta Description fields."|t('sprout-module-meta'),
        name: 'maxMetaDescriptionLength',
        placeholder: '160',
        size:'10',
        value: settings.maxMetaDescriptionLength,
        errors: '',
        warning: sproutConfigWarning(module, 'maxMetaDescriptionLength')
    }) }}

    {{ forms.lightswitchField({
        label: "Automatically render metadata"|t('sprout-module-meta') ~ isProBadge,
        instructions: "Sprout Meta prepares and outputs all of your metadata in your template. If you'd like to manage this output manually, you can disable this setting and enable the 'Enable custom metadata variable' setting below."|t('sprout-module-meta'),
        name: 'enableRenderMetadata',
        on: not isPro ? true : (settings.enableRenderMetadata is empty ? false : true),
        onLabel: "Automatic"|t('sprout-module-meta'),
        offLabel: "Manual"|t('sprout-module-meta'),
        disabled: not isPro,
        warning: sproutConfigWarning(module, 'enableRenderMetadata')
    }) }}

{% endblock %}
